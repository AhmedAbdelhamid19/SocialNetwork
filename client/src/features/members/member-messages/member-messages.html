<div class="flex flex-col w-full h-[70vh]">
    <div class="flex flex-col grow overflow-auto">
        @for(message of messages(); track message.id) {
        <div class="chat" [class.chat-end]="message.currentUserSender" [class.chat-start]="!message.currentUserSender">
          <div class="chat-image avatar">
            <div class="w-10 rounded-full">
              <img
                [src]="message.senderImageUrl"
                alt="user's image"
              />
            </div>
          </div>
          <div class="chat-header">
            {{message.senderDisplayName}}
            <time class="text-xs opacity-50">{{message.messageSent | date: 'short'}}</time>
          </div>
          <div class="chat-bubble">{{message.content}}</div>
          @if(message.currentUserSender && message.dateRead) {
            <div class="chat-footer opacity-50">Seen {{(message.dateRead) | timeAgo}}</div>
          } @else if (message.currentUserSender && !message.dateRead) {
            <div class="chat-footer opacity-50">Not read</div>
        } @else {
            <div class="chat-footer opacity-50">Delivered</div>
          }
        </div>
    }
    </div>
</div>